(this.webpackJsonpresort=this.webpackJsonpresort||[]).push([[0],{31:function(e,t){},62:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(1),s=c.n(n),a=c(45),i=c.n(a);c(62);function o(e){var t=e.children,c=e.hero;return Object(r.jsx)("header",{className:c,children:t})}function l(e){var t=e.children,c=e.title,n=e.subtitle;return Object(r.jsxs)("div",{className:"banner",children:[Object(r.jsx)("h1",{children:c}),Object(r.jsx)("div",{}),Object(r.jsx)("p",{children:n}),t]})}o.defaultProps={hero:"defaultHero"};var j=c(6),m=c(12),b=c(13),u=c(15),d=c(14);function h(e){var t=e.title;return Object(r.jsxs)("div",{className:"section-title",children:[Object(r.jsx)("h4",{children:t}),Object(r.jsx)("div",{})]})}var O=c(18),x=function(e){Object(u.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(m.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={services:[{icon:Object(r.jsx)(O.c,{}),title:"free cocktails",info:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tristique."},{icon:Object(r.jsx)(O.d,{}),title:"Hiking",info:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tristique."},{icon:Object(r.jsx)(O.e,{}),title:"Free Shuttle",info:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tristique."},{icon:Object(r.jsx)(O.b,{}),title:"Beer",info:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tristique."}]},e}return Object(b.a)(c,[{key:"render",value:function(){return Object(r.jsxs)("section",{className:"services",children:[Object(r.jsx)(h,{title:"Services"}),Object(r.jsx)("div",{className:"services-center",children:this.state.services.map((function(e,t){return Object(r.jsxs)("article",{className:"service",children:[Object(r.jsx)("span",{children:e.icon}),Object(r.jsx)("h6",{children:e.title}),Object(r.jsx)("p",{children:e.info})]},t)}))})]})}}]),c}(n.Component),p=c(19),f=c(24),v=c(3),g=c.n(v),y=c(16),N=c(46),k=c(55),C=Object(k.a)({space:"vwth2te9yze4",accessToken:"6dFTCUfnZLBuCsNYnJijb6hVKrbTpB2AgAg4U8XwJ6I"}),z=s.a.createContext(),R=function(e){Object(u.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(m.a)(this,c);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},e.getData=Object(N.a)(g.a.mark((function t(){var c,r,n,s,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.getEntries({content_type:"resort",order:"sys.createdAt"});case 3:c=t.sent,r=e.formatData(c.items),n=r.filter((function(e){return!0===e.featured})),s=Math.max.apply(Math,Object(y.a)(r.map((function(e){return e.price})))),a=Math.max.apply(Math,Object(y.a)(r.map((function(e){return e.size})))),e.setState({rooms:r,sortedRooms:r,featuredRooms:n,loading:!1,price:s,maxPrice:s,maxSize:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getRoom=function(t){return Object(y.a)(e.state.rooms).find((function(e){return e.slug===t}))},e.handleChange=function(t){var c=t.target,r="checkbox"===c.type?c.checked:c.value,n=t.target.name;e.setState(Object(f.a)({},n,r),e.filterRooms)},e.filterRooms=function(){var t=e.state,c=t.rooms,r=t.type,n=t.capacity,s=t.price,a=t.minSize,i=t.maxSize,o=t.breakfast,l=t.pets,j=Object(y.a)(c);n=parseInt(n),s=parseInt(s),"all"!==r&&(j=j.filter((function(e){return e.type===r}))),1!==n&&(j=j.filter((function(e){return e.capacity>=n}))),j=(j=j.filter((function(e){return e.price<=s}))).filter((function(e){return e.size>=a&&e.size<=i})),o&&(j=j.filter((function(e){return!0===e.breakfast}))),l&&(j=j.filter((function(e){return!0===e.pets}))),e.setState({sortedRooms:j})},e}return Object(b.a)(c,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,c=e.fields.images.map((function(e){return e.fields.file.url}));return Object(p.a)(Object(p.a)({},e.fields),{},{images:c,id:t})}))}},{key:"render",value:function(){return Object(r.jsx)(z.Provider,{value:Object(p.a)(Object(p.a)({},this.state),{},{getRoom:this.getRoom,handleChange:this.handleChange}),children:this.props.children})}}]),c}(n.Component),S=z.Consumer;var F=c.p+"static/media/loading-arrow.dd29210f.gif";function w(){return Object(r.jsxs)("div",{className:"loading",children:[Object(r.jsx)("h4",{children:"Loading..."}),Object(r.jsx)("img",{src:F})]})}var L=c.p+"static/media/room-1.05b90599.jpeg";function M(e){var t=e.room,c=t.name,n=t.slug,s=t.images,a=t.price;return Object(r.jsxs)("article",{className:"room",children:[Object(r.jsxs)("div",{className:"img-container",children:[Object(r.jsx)("img",{src:s[0]||L}),Object(r.jsxs)("div",{className:"price-top",children:[Object(r.jsxs)("h6",{children:["$",a]}),Object(r.jsx)("p",{children:"per night"})]}),Object(r.jsx)(j.b,{to:"/rooms/".concat(n),className:"btn-primary room-link",children:"Explore"})]}),Object(r.jsx)("p",{className:"room-info",children:c})]})}var P=function(e){Object(u.a)(c,e);var t=Object(d.a)(c);function c(){return Object(m.a)(this,c),t.apply(this,arguments)}return Object(b.a)(c,[{key:"render",value:function(){var e=this.context,t=e.loading,c=e.featuredRooms;return c=c.map((function(e){return Object(r.jsx)(M,{room:e},e.id)})),Object(r.jsxs)("section",{className:"featured-rooms",children:[Object(r.jsx)(h,{title:"Featured Rooms"}),Object(r.jsx)("div",{className:"featured-rooms-center",children:t?Object(r.jsx)(w,{}):c})]})}}]),c}(n.Component);P.contextType=z;var T=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o,{hero:"defaultHero",children:Object(r.jsx)(l,{title:"Luxurious Rooms",subtitle:"Deluxe rooms starting at $99",children:Object(r.jsx)(j.b,{to:"/rooms",className:"btn-primary",children:"Our Rooms"})})}),Object(r.jsx)(x,{}),Object(r.jsx)(P,{})]})};function D(e){var t=e.rooms;return console.log({rooms:t}),0===t.length?Object(r.jsx)("div",{className:"empty-search",children:Object(r.jsx)("h3",{children:"unfortunately no rooms matched"})}):Object(r.jsx)("section",{className:"roomsList",children:Object(r.jsx)("div",{className:"roomslist-center",children:t.map((function(e){return Object(r.jsx)(M,{room:e},e.id)}))})})}var B=function(e,t){return Object(y.a)(new Set(e.map((function(e){return e[t]}))))};function A(e){var t=e.rooms,c=Object(n.useContext)(z),s=c.handleChange,a=c.type,i=c.capacity,o=c.price,l=c.minPrice,j=c.maxPrice,m=c.minSize,b=c.maxSize,u=c.breakfast,d=c.pets,O=B(t,"type");O=(O=["all"].concat(Object(y.a)(O))).map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}));var x=B(t,"capacity");return x=x.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)})),Object(r.jsxs)("section",{className:"filter-container",children:[Object(r.jsx)(h,{title:"search rooms"}),Object(r.jsxs)("form",{className:"filter-form",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"type",children:"room type"}),Object(r.jsx)("select",{name:"type",id:"type",value:a,className:"form-control",onChange:s,children:O})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"capacity",children:"room type"}),Object(r.jsx)("select",{name:"capacity",id:"capacity",value:i,className:"form-control",onChange:s,children:x})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsxs)("label",{htmlFor:"price",children:["room price $",o]}),Object(r.jsx)("input",{type:"range",name:"price",min:l,max:j,id:"price",value:o,onChange:s,className:"form-control"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"size",children:"room size"}),Object(r.jsxs)("div",{className:"size-inputs",children:[Object(r.jsx)("input",{type:"number",name:"minSize",id:"size",value:m,onChange:s,className:"size-input"}),Object(r.jsx)("input",{type:"number",name:"maxSize",id:"size",value:b,onChange:s,className:"size-input"})]})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsxs)("div",{className:"single-extra",children:[Object(r.jsx)("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:u,onChange:s}),Object(r.jsx)("label",{htmlFor:"breakfast",children:"breakfast"})]}),Object(r.jsxs)("div",{className:"single-extra",children:[Object(r.jsx)("input",{type:"checkbox",name:"pets",id:"pets",checked:d,onChange:s}),Object(r.jsx)("label",{htmlFor:"pets",children:"pets"})]})]})]})]})}var H,I=(H=function(e){var t=e.context,c=t.loading,n=t.sortedRooms,s=t.rooms;return c?Object(r.jsx)(w,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)(A,{rooms:s}),Object(r.jsx)(D,{rooms:n})]})},function(e){return Object(r.jsx)(S,{children:function(t){return Object(r.jsx)(H,Object(p.a)(Object(p.a)({},e),{},{context:t}))}})}),q=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o,{hero:"roomsHero",children:Object(r.jsx)(l,{title:"Our Rooms",children:Object(r.jsx)(j.b,{to:"/",className:"btn-primary",children:"Return home"})})}),Object(r.jsx)(I,{})]})},J=c(56),$=c(50);function E(){var e=Object($.a)(["\n    min-height: 60vh;\n    background: url(",") center/cover no-repeat;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return E=function(){return e},e}var U=c(51).a.header(E(),(function(e){return e.img?e.img:L})),K=function(e){Object(u.a)(c,e);var t=Object(d.a)(c);function c(e){var r;return Object(m.a)(this,c),(r=t.call(this,e)).state={slug:r.props.match.params.slug,defaultBcg:L},r}return Object(b.a)(c,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return Object(r.jsxs)("div",{className:"error",children:[Object(r.jsx)("h3",{children:"no such could be found..."}),Object(r.jsx)(j.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})]});var t=e.name,c=e.description,n=e.capacity,s=e.size,a=e.price,i=e.extras,o=e.breakfast,m=e.pets,b=e.images,u=Object(J.a)(b),d=u[0],h=u.slice(1);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(U,{img:d||this.state.defaultBcg,children:Object(r.jsx)(l,{title:"".concat(t," room"),children:Object(r.jsx)(j.b,{to:"/rooms",className:"btn-primary",children:"back to rooms"})})}),Object(r.jsxs)("section",{className:"single-room",children:[Object(r.jsx)("div",{className:"single-room-images",children:h.map((function(e,c){return Object(r.jsx)("img",{src:e,alt:t},c)}))}),Object(r.jsxs)("div",{className:"single-room-info",children:[Object(r.jsxs)("article",{className:"desc",children:[Object(r.jsx)("h3",{children:"Details"}),Object(r.jsx)("p",{children:c})]}),Object(r.jsxs)("article",{className:"info",children:[Object(r.jsx)("h3",{children:"info"}),Object(r.jsxs)("h6",{children:["Price: $",a]}),Object(r.jsxs)("h6",{children:["size: ",s," SQFT"]}),Object(r.jsxs)("h6",{children:["max capacity : ","".concat(n,n>1?" people":" person")]}),Object(r.jsx)("h6",{children:m?"pets allowed":"no pets allowed"}),Object(r.jsx)("h6",{children:o&&"free breakfast included"})]})]})]}),Object(r.jsxs)("section",{className:"room-extras",children:[Object(r.jsx)("h6",{children:"extras"}),Object(r.jsx)("ul",{className:"extras",children:i.map((function(e,t){return Object(r.jsxs)("li",{children:["-",e]},t)}))})]})]})}}]),c}(n.Component);K.contextType=z;var Q=c.p+"static/media/logo.87947b58.svg",V=function(e){Object(u.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(m.a)(this,c);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isOpen:!1},e.handleToggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(b.a)(c,[{key:"render",value:function(){return Object(r.jsx)("nav",{className:"navbar",children:Object(r.jsxs)("div",{className:"nav-center",children:[Object(r.jsxs)("div",{className:"nav-header",children:[Object(r.jsx)(j.b,{to:"/",children:Object(r.jsx)("img",{src:Q,alt:"logo"})}),Object(r.jsx)("button",{className:"nav-btn",type:"button",children:Object(r.jsx)(O.a,{className:"nav-icon",onClick:this.handleToggle})})]}),Object(r.jsx)("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links",children:Object(r.jsxs)("li",{children:[Object(r.jsx)(j.b,{to:"/",children:"Home"}),Object(r.jsx)(j.b,{to:"/rooms",children:"Rooms"})]})})]})})}}]),c}(n.Component),X=c(4);var Y=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{}),Object(r.jsxs)(X.c,{children:[Object(r.jsx)(X.a,{exact:!0,path:"/resort-booking",component:T}),Object(r.jsx)(X.a,{exact:!0,path:"/rooms",component:q}),Object(r.jsx)(X.a,{exact:!0,path:"/rooms/:slug",component:K})]})]})},Z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,88)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(R,{children:Object(r.jsx)(j.a,{children:Object(r.jsx)(Y,{})})})}),document.getElementById("root")),Z()}},[[87,1,2]]]);
//# sourceMappingURL=main.1e91a3ea.chunk.js.map